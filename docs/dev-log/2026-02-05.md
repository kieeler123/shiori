ğŸ“… 2026-02-05 Dev Log
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª
ğŸ§  ä»Šæ—¥ã®ä½œæ¥­ã®æ€§è³ª

ä»Šæ—¥ã¯å˜ãªã‚‹æ©Ÿèƒ½è¿½åŠ ã§ã¯ãªãã€
Shiori ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã€Œå­¦ç¿’ç”¨ã‚¢ãƒ—ãƒªã€ã‹ã‚‰ã€Œã‚µãƒ¼ãƒ“ã‚¹æ§‹é€ ã€ã¸ç§»è¡Œã—ãŸæ—¥ã ã£ãŸã€‚

ç‰¹ã«ã€Œé¡§å®¢ã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆSupportï¼‰ã€ã®åˆ†é›¢ã«ã‚ˆã‚Šã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒä¸€æ®µéšãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã—ãŸã€‚

ğŸ§± 1. Supportã‚·ã‚¹ãƒ†ãƒ ã®æ§‹é€ ç¢ºå®š
ğŸ”¹ ä»Šæ—¥è¡Œã£ãŸã“ã¨

Supportå°‚ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ support_tickets ã«çµ±ä¸€

Supportç”¨Trashã‚’ support_trash_v ã¨ã—ã¦åˆ†é›¢

Repoã‚’å½¹å‰²ã”ã¨ã«æ•´ç†

shioriRepo â†’ é€šå¸¸ãƒ­ã‚°

supportRepo â†’ é¡§å®¢ã‚»ãƒ³ã‚¿ãƒ¼

trashRepo â†’ å‰Šé™¤é–¢é€£

Soft Delete ã®æµã‚Œå†ç¢ºèª
is_deleted / deleted_at / deleted_by

é€šå¸¸ãƒ­ã‚°ã®ã‚´ãƒŸç®±ã¨é¡§å®¢ã‚»ãƒ³ã‚¿ãƒ¼ã®ã‚´ãƒŸç®±ã‚’UIãƒ¬ãƒ™ãƒ«ã§å®Œå…¨åˆ†é›¢

ğŸ‘‰ Logs / Support / Trash ãŒãã‚Œãã‚Œç‹¬ç«‹ã—ãŸã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã£ãŸã€‚

ğŸ—‚ 2. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹é€ ã®å®‰å®šåŒ–

Supporté–¢é€£ãƒ«ãƒ¼ãƒˆã‚’æ•´ç†ï¼š

/support
/support/new
/support/:id
/support/:id/edit
/support/mine
/support/trash

ä¸»ãªæ”¹å–„ç‚¹

/logs/new ãŒ /logs/:id ã«ãƒãƒƒãƒã™ã‚‹å•é¡Œ â†’ UUIDã‚¬ãƒ¼ãƒ‰å°å…¥

ä¸æ­£ãªURLã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«ã‚¨ãƒ©ãƒ¼ã§ã¯ãªãæ¡ˆå†…ç”»é¢è¡¨ç¤º

ğŸ‘‰ ã€ŒURLãƒŸã‚¹ã§ã‚‚å£Šã‚Œãªã„è¨­è¨ˆã€ ã«é€²åŒ–ã€‚

ğŸ—‘ 3. Trashã‚·ã‚¹ãƒ†ãƒ ç†è§£ã®æ·±åŒ–
ç™ºç”Ÿã—ãŸå•é¡Œ

å‰Šé™¤ã¯æˆåŠŸã—ã¦ã„ã‚‹ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œãªã„

DBã«ã¯å­˜åœ¨

viewã®ã‚«ãƒ©ãƒ ä¸ä¸€è‡´ã«ã‚ˆã‚Š400ã‚¨ãƒ©ãƒ¼

deleted_by_nickname ãŒ view ã«å­˜åœ¨ã—ãªã‹ã£ãŸ

å­¦ã‚“ã ã“ã¨

Supabaseã®viewã¨ãƒ•ãƒ­ãƒ³ãƒˆã®selectãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å®Œå…¨ä¸€è‡´ãŒå¿…è¦

ã‚«ãƒ©ãƒ 1ã¤ã®ã‚ºãƒ¬ã§ã‚‚400ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

SQLã‚¨ãƒ©ãƒ¼ã¯ã€Œã‚³ãƒ¼ãƒ‰ã€ã‚ˆã‚Šã€Œã‚¹ã‚­ãƒ¼ãƒä¸æ•´åˆã€ã®å¯èƒ½æ€§ãŒé«˜ã„

ğŸ§­ 4. ãƒ‡ãƒãƒƒã‚°æ‰‹é †ã®ç¢ºç«‹

ä»Šå¾Œã®åŸºæœ¬æ‰‹é †ï¼š

Console

Networkã‚¿ãƒ–

Request URLç¢ºèª

Supabaseã®ãƒ†ãƒ¼ãƒ–ãƒ« / viewæ§‹é€ ç¢ºèª

ğŸ‘‰ æ¨æ¸¬ã§ã¯ãªãæ§‹é€ ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒãƒƒã‚°ã¸ç§»è¡Œã€‚

ğŸ” 5. Header / ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹é€ æ•´ç†

æ©Ÿèƒ½å¢—åŠ ã«ä¼´ã„ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­è¨ˆã®å¿…è¦æ€§ã‚’å®Ÿæ„Ÿ

ä¸€èˆ¬ã‚´ãƒŸç®±ã¨é¡§å®¢ã‚»ãƒ³ã‚¿ãƒ¼ã‚´ãƒŸç®±ã‚’åˆ†é›¢

FAQ / ãƒã‚¤å•ã„åˆã‚ã› / æ–°è¦å•ã„åˆã‚ã›ãªã©ã®æ‹¡å¼µæ–¹å‘æ±ºå®š

ğŸ“Œ ä»Šæ—¥ã®ãƒ¬ãƒ™ãƒ«å¤‰åŒ–
ä»¥å‰	ä»Šæ—¥ä»¥é™
CRUDã‚¢ãƒ—ãƒª	ã‚µãƒ¼ãƒ“ã‚¹æ§‹é€ 
å˜ä¸€ãƒ‰ãƒ¡ã‚¤ãƒ³	ãƒãƒ«ãƒãƒ‰ãƒ¡ã‚¤ãƒ³
æ©Ÿèƒ½ä¸­å¿ƒ	ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆä¸­å¿ƒ
æ¨æ¸¬ãƒ‡ãƒãƒƒã‚°	æ§‹é€ ãƒ™ãƒ¼ã‚¹åˆ†æ
ğŸ“ ä¸€è¨€ã¾ã¨ã‚

ã€ŒShioriãŒãƒˆã‚¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆæ®µéšã«å…¥ã£ãŸæ—¥ã€

ğŸ‡ºğŸ‡¸ English
ğŸ§  Nature of Todayâ€™s Work

Today was not just feature development.
It was the day Shiori transitioned from a learning project to a service-level architecture.

The separation of the Support system marked a major structural upgrade.

ğŸ§± 1. Support System Architecture

Standardized support table â†’ support_tickets

Separated support trash â†’ support_trash_v

Repositories clarified by role

shioriRepo â†’ logs

supportRepo â†’ support

trashRepo â†’ deletion logic

Revisited soft delete flow
is_deleted / deleted_at / deleted_by

UI separation between log trash and support trash

ğŸ‘‰ Logs / Support / Trash now behave like independent sub-domains.

ğŸ—‚ 2. Routing Stabilization

Support routes finalized:

/support
/support/new
/support/:id
/support/:id/edit
/support/mine
/support/trash


Improvements:

Prevented /logs/new from matching /logs/:id

Introduced route guard with user-friendly error screen

ğŸ—‘ 3. Trash System Insight

Problem:

Deletion worked

Data existed in DB

But view column mismatch caused 400 error

Key lesson:
Frontend select fields must match DB view columns exactly.

ğŸ§­ 4. Debugging Process Established

New rule:

Console

Network tab

Check request URL

Verify Supabase schema

ğŸ” 5. Header & Menu Evolution

Menu expanded due to system growth.
Need for structured navigation recognized.

ğŸ“Œ Level Up
Before	After
CRUD app	Service architecture
Single domain	Multi-domain
Feature focus	System design focus
Guess debugging	Structural debugging
ğŸ“ Summary

â€œThe day Shiori became a service-level system.â€

ğŸ‡°ğŸ‡· í•œêµ­ì–´
ğŸ§  ì˜¤ëŠ˜ ì‘ì—…ì˜ ì„±ê²©

ì˜¤ëŠ˜ì€ ê¸°ëŠ¥ ì¶”ê°€ê°€ ì•„ë‹ˆë¼
Shioriê°€ â€˜ê³µë¶€ìš© í”„ë¡œì íŠ¸â€™ì—ì„œ â€˜ì„œë¹„ìŠ¤ êµ¬ì¡°â€™ë¡œ ë„˜ì–´ê°„ ë‚ ì´ì—ˆë‹¤.

íŠ¹íˆ ê³ ê°ì„¼í„°(Support) ë¶„ë¦¬ê°€ í•µì‹¬ ì „í™˜ì .

ğŸ§± 1. Support êµ¬ì¡° í™•ì •

support_tickets ë¡œ í…Œì´ë¸” í†µì¼

support_trash_v ë¡œ íœ´ì§€í†µ ë¶„ë¦¬

Repo ì—­í•  ë¶„ë¦¬

Soft Delete íë¦„ ì¬í™•ì¸

ì¼ë°˜ ê¸€ íœ´ì§€í†µ / ê³ ê°ì„¼í„° íœ´ì§€í†µ UI ë¶„ë¦¬

ğŸ‘‰ Logs / Support / Trash ê°€ ë…ë¦½ ë„ë©”ì¸ì²˜ëŸ¼ ë™ì‘

ğŸ—‚ 2. ë¼ìš°íŒ… ì•ˆì •í™”

UUID ê°€ë“œ ë„ì…
ì˜ëª»ëœ URL ì ‘ê·¼ ì‹œ ì•ˆë‚´ í™”ë©´ í‘œì‹œ

ğŸ—‘ 3. íœ´ì§€í†µ êµ¬ì¡° ì´í•´

400 ì—ëŸ¬ ì›ì¸ = view ì»¬ëŸ¼ ë¶ˆì¼ì¹˜

ì˜¤ëŠ˜ ê°€ì¥ ì¤‘ìš”í•œ í•™ìŠµ í¬ì¸íŠ¸ ì¤‘ í•˜ë‚˜.

ğŸ§­ 4. ë””ë²„ê¹… ë£¨í‹´ í™•ë¦½

ì•ìœ¼ë¡œ ìˆœì„œ:

ì½˜ì†” â†’ ë„¤íŠ¸ì›Œí¬ â†’ ìš”ì²­ URL â†’ DB ìŠ¤í‚¤ë§ˆ

ğŸ” 5. ë©”ë‰´ êµ¬ì¡° í™•ì¥

ë©”ë‰´ê°€ ëŠ˜ì–´ë‚˜ë©´ì„œ êµ¬ì¡° ì„¤ê³„ ë‹¨ê³„ ì§„ì….

ğŸ“Œ ì˜¤ëŠ˜ ë ˆë²¨ ë³€í™”
ì´ì „	ì´í›„
CRUD ì•±	ì„œë¹„ìŠ¤ êµ¬ì¡°
ê¸°ëŠ¥ ì¤‘ì‹¬	ì‹œìŠ¤í…œ ì„¤ê³„ ì¤‘ì‹¬
ì¶”ì¸¡ ë””ë²„ê¹…	êµ¬ì¡° ê¸°ë°˜ ë””ë²„ê¹…
ğŸ“ í•œ ì¤„ ìš”ì•½

â€œShioriê°€ í† ì´ í”„ë¡œì íŠ¸ë¥¼ ë²—ì–´ë‚œ ë‚ 