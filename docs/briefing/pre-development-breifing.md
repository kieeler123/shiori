🇯🇵 面接想定 Q&A
❓ Q1. 最近発生した大きなエラーと、その原因は何でしたか？

A:
ログイン後もセッションが null になる問題がありました。
認証エラーではなく、SessionProvider がアプリ全体を包んでいない構造ミスが原因でした。
認証コンテキストが共有されていなかったため、常にログアウト状態として認識されていました。
Providerの階層を修正することで解決しました。

❓ Q2. Supabaseで400エラーが出た原因は何でしたか？

A:
フロントのクエリは正しかったのですが、DB側に comment_count や is_deleted カラムが存在しませんでした。
機能拡張にDB設計が追いついていなかったのが原因です。
そのため、テーブル直接参照から「画面専用VIEW」に切り替える設計へ変更しました。

❓ Q3. なぜVIEWを使う設計に変更したのですか？

A:
画面表示用の集計データ（コメント数・削除状態など）を毎回フロントで計算するのは非効率だからです。
実務では「画面用のデータ構造をDB側で整形する」方式が一般的であり、運用向けの設計に移行しました。

❓ Q4. 削除処理の設計を変更した理由は何ですか？

A:
.delete() による物理削除では復元が不可能で、運用リスクが高いと判断しました。
is_deleted フラグを使った Soft Delete に変更し、ゴミ箱機能と復元を可能にしました。

❓ Q5. 今回のエラー経験から学んだことは何ですか？

A:
エラーは「コードのバグ」ではなく、「構造レベルの未整備」から発生することが多いと学びました。
機能を足すたびに、設計も同時に進化させる必要があると理解しました。

❓ Q6. 今回の改善はどのレベルの開発フェーズだと思いますか？

A:
個人開発レベルから、実運用を想定したサービス設計レベルへの移行段階だと考えています。

🇰🇷 면접 대비 Q&A
❓ Q1. 최근 발생했던 큰 에러와 원인은 무엇이었나요?

A:
로그인 후 세션이 계속 null 로 나오는 문제가 있었습니다.
인증 오류가 아니라 SessionProvider 가 앱 전체를 감싸지 못한 구조적 문제였습니다.
인증 컨텍스트가 공유되지 않아 항상 로그아웃 상태로 인식되었고, Provider 계층을 수정해 해결했습니다.

❓ Q2. Supabase 400 에러 원인은 무엇이었나요?

A:
프론트 쿼리는 정상처럼 보였지만 DB에 comment_count, is_deleted 컬럼이 없었습니다.
기능 확장에 DB 설계가 따라오지 못한 구조 문제였습니다.
그래서 테이블 직접 조회 대신 화면 전용 VIEW 설계로 전환했습니다.

❓ Q3. 왜 VIEW 방식으로 설계를 바꿨나요?

A:
댓글 수, 삭제 상태 같은 집계 데이터를 프론트에서 매번 계산하는 것은 비효율적입니다.
실무에서는 화면에 필요한 데이터 구조를 DB에서 미리 가공하는 방식이 일반적이라 그 구조로 전환했습니다.

❓ Q4. 삭제 로직을 왜 바꿨나요?

A:
.delete() 방식은 복구가 불가능해 운영 리스크가 크다고 판단했습니다.
is_deleted 플래그 기반 Soft Delete로 변경해 휴지통 및 복구가 가능하도록 했습니다.

❓ Q5. 이번 경험에서 배운 점은?

A:
에러는 단순 코드 버그보다 구조 설계 문제에서 더 많이 발생한다는 점을 배웠습니다.
기능 추가와 동시에 설계도 같이 성장해야 한다는 걸 이해했습니다.

❓ Q6. 지금 단계의 개발 수준은 어느 정도라고 생각하나요?

A:
개인 프로젝트 수준을 넘어서, 운영 가능한 서비스 구조로 넘어가는 단계라고 생각합니다.