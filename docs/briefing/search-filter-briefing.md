2026-01-29

❓ Q1. この検索機能の設計意図を説明してください
🇯🇵 일본어 답변

この検索機能は単なる文字列検索ではなく、
将来的な拡張を前提とした検索基盤として設計しました。

まず、ログの原本データとは別に
検索専用のインデックス（__searchText）を生成しています。

これにより：

UIを変更しても検索ロジックは影響を受けない

DBに移行しても検索構造を維持できる

将来タグ重み付けや関連度計算を追加しやすい

という利点があります。

つまり「今動く検索」ではなく、
「成長できる検索構造」 を意識して作りました。

🇰🇷 한국어 의미

이 검색은 단순 문자열 검색이 아니라
확장 가능한 검색 기반 구조로 설계했습니다.

원본 데이터와 별도로 검색용 인덱스를 만들어
UI가 바뀌어도, DB로 옮겨도 검색 구조가 유지되도록 했습니다.

❓ Q2. なぜ Content と Index を分離したのですか？
🇯🇵

原本データを直接検索対象にすると、
検索仕様を変更するたびにデータ構造を壊す可能性があります。

そこで

Content：人が読む原本

Index：検索・分類用データ

を分離しました。

この構造なら検索精度を上げても
ユーザーの記録データには影響しません。

これは将来AI検索や関連度スコアを導入する際にも有効です。

🇰🇷

검색 로직을 바꿀 때마다 원본이 영향을 받지 않게 하려고
읽기용 데이터와 검색용 데이터를 분리했습니다.

❓ Q3. なぜ localStorage 構成でこの設計をしましたか？
🇯🇵

v0段階では保存先よりも構造の正しさを優先しました。

localStorageでもSupabaseでも
「保存先が変わるだけ」にするため、
ロジックとUIを分離した設計にしています。

🇰🇷

지금은 저장소보다 구조를 먼저 잡는 단계라서
저장소 교체가 가능한 구조로 만들었습니다.

❓ Q4. React Hooks をどう使っていますか？
🇯🇵

検索・フィルタ・ソートなどのロジックは
すべて useNoteSearch フックに集約しています。

UIコンポーネントは
表示とイベント処理だけに集中させています。

そのため責務が明確で、
UI変更があっても検索ロジックには影響しません。

🇰🇷

검색 관련 로직은 전부 hook에 모아두고
컴포넌트는 화면과 이벤트만 담당하도록 분리했습니다.

❓ Q5. なぜ一覧と詳細ページを分けたのですか？
🇯🇵

ログ数が増えると一覧ページに全文を表示するのは非効率になります。

そこで：

検索 → 結果一覧 → 詳細ページ

というWebブラウザと同じ導線にしました。

これはパフォーマンス面だけでなく
ユーザー体験の観点でも自然な構造です。

🇰🇷

글이 많아질 걸 고려해서
검색 → 목록 → 상세 구조로 설계했습니다.

❓ Q6. TypeScript をどう活用しましたか？
🇯🇵

Suggestionの型エラーを経験し、
"tag" as const のようにリテラル型を明示することで
型の安全性を高めました。

検索機能はデータ構造依存が強いため
型での保証が重要だと考えています。

🇰🇷

검색 구조는 타입 의존도가 높아서
리터럴 타입을 명확히 지정해 타입 안정성을 확보했습니다.

❓ Q7. この設計は将来どう拡張できますか？
🇯🇵

Supabaseへの移行

認証追加

タグ統計

関連記事アルゴリズム

多言語対応

すべて既存構造を崩さず追加可能です。

🇰🇷

DB, 로그인, 태그 통계, 관련글, 다국어 등
현재 구조 그대로 확장 가능합니다.

🔥 이 Q&A가 강한 이유

이건 단순히

“검색 만들었습니다”

가 아니라

“검색 구조를 설계했습니다”

라고 말하는 레벨임.