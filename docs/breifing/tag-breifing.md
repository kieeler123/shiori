# 📅 2026-01-28  

## 🇯🇵 日本語

### 🇯🇵 日本語説明テンプレート（今日の実装内容）

#### ① この機能は何ですか？

今回はログ記録アプリ「Shiori」で
タグシステム・編集モード・Undo機能 を実装しました。
ユーザーが文章内に #tag を書いたり、タグ入力欄に入力したタグを
自動で解析してログに紐づける仕組みです。

#### ② どんな問題を解決する機能ですか？

単なるメモではなく、
後からタグで検索・整理できるログ管理 を目的としています。
また、操作ミスに備えて Undo（取り消し）機能 も入れました。

#### ③ 技術的にどう実装しましたか？
🧩 タグ処理

タグは2つの場所から取得しています。

本文内の #tag

タグ入力欄の文字列

それぞれをパースして、
重複除去 + 上限数制限（TAG_LIMIT） をかけて統合しています。

🔄 編集モード

編集ボタンを押したときに、
既存のログデータを LogEditor の state に同期させています。

最初は initial props が毎回再描画で上書きされる問題 があり、
useEffect の依存配列を調整して解決しました。

⏪ Undo機能

ログの追加・削除・更新の前に
変更前のログ配列を保存 しておき、
5秒間だけ復元できる仕組みです。

タイマーと state を使い、
マウスホバー中はカウントダウン停止 にしました。

#### ④ 実装中に起きたエラーと対応
問題	                          原因	                        解決方法
入力しても文字が表示されない	stateが初期値で上書きされていた	    useEffectの同期ロジック修正
編集時にタグが表示されない	    initialTagsが渡されていなかった	   propsに追加しstateへ同期
型エラー(any)	               型未指定	                         型定義追加

#### ⑤ この実装で意識したこと

UIよりも データの流れ を意識

エラーが出たときは
「UI → state → util → storage」の順で追跡

実務でよくある state同期バグの経験 を積むことを意識

### 🇰🇷 한국어 설명 템플릿

#### ① 이 기능은 무엇인가요?

이번에는 로그 기록 앱 Shiori에서
태그 시스템, 수정 모드, Undo 기능을 구현했습니다.
사용자가 본문에 #태그를 쓰거나 태그 입력칸에 적은 태그를
자동으로 분석해서 로그에 연결하는 구조입니다.

#### ② 어떤 문제를 해결하나요?

단순 메모가 아니라
나중에 태그로 검색/정리 가능한 로그 시스템을 만드는 것이 목적입니다.
그리고 실수로 삭제하거나 수정했을 때를 대비해
Undo 기능도 추가했습니다.

#### ③ 기술적으로 어떻게 구현했나요?
🧩 태그 처리

태그는 두 군데에서 수집합니다.

본문 안의 #tag

태그 입력칸 문자열

이 둘을 파싱해서
중복 제거 + 최대 개수 제한(TAG_LIMIT) 후 하나로 합칩니다.

🔄 수정 모드

수정 버튼을 누르면 기존 로그 데이터를
LogEditor 컴포넌트 state에 동기화합니다.

처음엔 initial props가 계속 state를 덮어써서
입력이 안 되는 문제가 있었고,
useEffect 동기화 로직을 수정해서 해결했습니다.

⏪ Undo 기능

로그 추가/삭제/수정 전에
이전 로그 배열을 저장 해두고
5초 동안 되돌릴 수 있게 만들었습니다.

타이머 + state를 사용했고,
마우스를 올리면 카운트다운이 멈추도록 처리했습니다.

#### ④ 구현 중 발생한 에러와 해결
문제	                       원인	                    해결
입력해도 글자가 안 보임  	state가 초기값으로 덮임	    useEffect 수정
수정 시 태그 안 보임	   initialTags 미전달	      props + state 동기화
타입 경고	              any 타입	                 타입 정의 추가

#### ⑤ 이번 구현에서 중요하게 본 점

UI보다 데이터 흐름 구조에 집중

에러 발생 시
“UI → state → util → storage” 순서로 추적

실무에서 자주 나오는 state 동기화 버그 경험에 초점